{"data":{"site":{"siteMetadata":{"title":"Johnny Zhu","author":"Johnny Zhu"}},"markdownRemark":{"id":"9b2bf316-d642-5380-902f-0e06e42dab54","excerpt":"\n","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b0af62ad424a3a18d16de1a52667b19b/99c36/wakeup-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEDBAUC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQIA/9oADAMBAAIQAxAAAAHrxjzs9NUmrfI6Qb//xAAbEAABBAMAAAAAAAAAAAAAAAABAAIDEBEhIv/aAAgBAQABBQJZqYOKj0Wjm//EABYRAAMAAAAAAAAAAAAAAAAAABEgIf/aAAgBAwEBPwE1P//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAECAQE/ASP/xAAbEAACAQUAAAAAAAAAAAAAAAAAAREDEBIgQf/aAAgBAQAGPwK76PKnIp0//8QAGRABAQEBAQEAAAAAAAAAAAAAAQAhERBR/9oACAEBAAE/Ieyft2G4wubBzBMnAWzcPP/aAAwDAQACAAMAAAAQnzAD/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREg/9oACAEDAQE/EFETH//EABYRAQEBAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPxACW4//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMVFhcYGR/9oACAEBAAE/EPKAxX7KsKbiIEUcVpiEtAMYfcsoAzCOydU1P//Z'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"wakeup-1\"\n        title=\"\"\n        src=\"/static/b0af62ad424a3a18d16de1a52667b19b/f8fb9/wakeup-1.jpg\"\n        srcset=\"/static/b0af62ad424a3a18d16de1a52667b19b/e8976/wakeup-1.jpg 148w,\n/static/b0af62ad424a3a18d16de1a52667b19b/63df2/wakeup-1.jpg 295w,\n/static/b0af62ad424a3a18d16de1a52667b19b/f8fb9/wakeup-1.jpg 590w,\n/static/b0af62ad424a3a18d16de1a52667b19b/85e3d/wakeup-1.jpg 885w,\n/static/b0af62ad424a3a18d16de1a52667b19b/d1924/wakeup-1.jpg 1180w,\n/static/b0af62ad424a3a18d16de1a52667b19b/9452e/wakeup-1.jpg 1770w,\n/static/b0af62ad424a3a18d16de1a52667b19b/99c36/wakeup-1.jpg 3024w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8bcf9748e7612835bfe2ba2f71832e11/99c36/wakeup-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEDBAL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABxWroh2XWEuFf/8QAHBAAAgICAwAAAAAAAAAAAAAAAQIAAxESEyEi/9oACAEBAAEFAmVrIoKjaBLADukXDB/Qo6nEhn//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAWEQADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8BI//EACAQAAIBAQkAAAAAAAAAAAAAAAABESIQEiExMlFhkbH/2gAIAQEABj8Cn0h2XnSuSpStyTEzZp6P/8QAHhAAAwACAQUAAAAAAAAAAAAAAAERITFRQWFxkdH/2gAIAQEAAT8hb7eWFJlnBBMD5fgkvZJhhm7CRs6JN6G9cPQ//9oADAMBAAIAAwAAABDvz8H/xAAWEQEBAQAAAAAAAAAAAAAAAAARABD/2gAIAQMBAT8QZ3//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAgEBPxAh/8QAHhABAAMAAgIDAAAAAAAAAAAAAQARITGBQVFxkaH/2gAIAQEAAT8QKtQ3ymEw4Lgo1/Jrwi7jl7QBF8qd+u48oF1DTyTbj6lrRA9EXMN8JH0T/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"wakeup-2\"\n        title=\"\"\n        src=\"/static/8bcf9748e7612835bfe2ba2f71832e11/f8fb9/wakeup-2.jpg\"\n        srcset=\"/static/8bcf9748e7612835bfe2ba2f71832e11/e8976/wakeup-2.jpg 148w,\n/static/8bcf9748e7612835bfe2ba2f71832e11/63df2/wakeup-2.jpg 295w,\n/static/8bcf9748e7612835bfe2ba2f71832e11/f8fb9/wakeup-2.jpg 590w,\n/static/8bcf9748e7612835bfe2ba2f71832e11/85e3d/wakeup-2.jpg 885w,\n/static/8bcf9748e7612835bfe2ba2f71832e11/d1924/wakeup-2.jpg 1180w,\n/static/8bcf9748e7612835bfe2ba2f71832e11/9452e/wakeup-2.jpg 1770w,\n/static/8bcf9748e7612835bfe2ba2f71832e11/99c36/wakeup-2.jpg 3024w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div>Hello World</div>\n<canvas id=\"myChart\" width=\"200\" height=\"100\"></canvas>\n\t<script src=\"/static/Chart.bundle.js\"></script>\n\t<script src=\"/static/aws-sdk-2.247.1.min.js\"></script>\n\t<script>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\tvar myCredentials = new AWS.CognitoIdentityCredentials({IdentityPoolId:&#39;us-west-2_jV4C12bpf&#39;});\n\tvar myConfig = new AWS.Config({\n\t\tcredentials: myCredentials, region: &#39;us-west-2&#39;\n\t});\n\n\tAWS.config.update({\n\t\tregion: &quot;us-west-2&quot;,\n\t\tendpoint: &#39;https://dynamodb.us-west-2.amazonaws.com&#39;,\n\t\t// accessKeyId default can be used while using the downloadable version of DynamoDB. \n\t\t// For security reasons, do not store AWS Credentials in your files. Use Amazon Cognito instead.\n\t\taccessKeyId: &quot;AKIAJ2HAZJ7TQ3V4FM2Q&quot;,\n\t\t// // secretAccessKey default can be used while using the downloadable version of DynamoDB. \n\t\t// // For security reasons, do not store AWS Credentials in your files. Use Amazon Cognito instead.\n\t\tsecretAccessKey: &quot;GoBN++Wg7hd0Yqk+RkPzLk0fWph3xKANDUwRMutD&quot;\n\t});\n\n\tvar docClient = new AWS.DynamoDB.DocumentClient();\n\tvar dateArray = [];\n\tvar timeArray = [];\n\tvar epochArray = [];\n\n\tfunction queryData() {\n\t\t\t// document.getElementById(&#39;textarea&#39;).innerHTML += &quot;Querying for movies from 1985: &quot;;\n\n\t\t\tvar params = {\n\t\t\t\t\tTableName : &quot;wake_up&quot;,\n\t\t\t\t\tKeyConditionExpression: &quot;hello_world = :world&quot;,\n\t\t\t\t\tExpressionAttributeValues: {\n\t\t\t\t\t\t\t&quot;:world&quot;:&quot;hello&quot;\n\t\t\t\t\t}\n\t\t\t};\n\n\t\t\tdocClient.query(params, function(err, data) {\n\t\t\t\t\t\n\t\t\t\tfor (var i = 0; i &lt; data.Items.length; i++) {\n\t\t\t\t\t\tvar myDate = (new Date(data.Items[i].date_time * 1)).toString().split(&quot; &quot;); \n\t\t\t\t\t\tdateArray[i] = myDate[1] + &quot; &quot; + myDate[2] + &quot; &quot; + myDate[3];\n\t\t\t\t\t\tvar myTime = myDate[4].split(&quot;:&quot;);\n\t\t\t\t\t\ttimeArray[i] = myTime[0] * 3600 + myTime[1] * 60 + myTime[2] / 1;\n\t\t\t\t}\n\n\t\t\t\tvar ctx = document.getElementById(&quot;myChart&quot;);\n\t\t\t\tvar myChart = new Chart(ctx, {\n\t\t\t\t\t\ttype: &#39;line&#39;,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tlabels: dateArray,\n\t\t\t\t\t\t\tdatasets: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tlabel: &quot;&quot;,\n\t\t\t\t\t\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\t\t\t\t\t\tlineTension: 0.1,\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: &quot;rgba(75,192,192,0.4)&quot;,\n\t\t\t\t\t\t\t\t\t\t\tborderColor: &quot;rgba(75,192,192,1)&quot;,\n\t\t\t\t\t\t\t\t\t\t\tborderCapStyle: &#39;butt&#39;,\n\t\t\t\t\t\t\t\t\t\t\tborderDash: [],\n\t\t\t\t\t\t\t\t\t\t\tborderDashOffset: 0.0,\n\t\t\t\t\t\t\t\t\t\t\tborderJoinStyle: &#39;miter&#39;,\n\t\t\t\t\t\t\t\t\t\t\tpointBorderColor: &quot;rgba(75,192,192,1)&quot;,\n\t\t\t\t\t\t\t\t\t\t\tpointBackgroundColor: &quot;#fff&quot;,\n\t\t\t\t\t\t\t\t\t\t\tpointBorderWidth: 3,\n\t\t\t\t\t\t\t\t\t\t\tpointHoverRadius: 5,\n\t\t\t\t\t\t\t\t\t\t\tpointHoverBackgroundColor: &quot;rgba(75,192,192,1)&quot;,\n\t\t\t\t\t\t\t\t\t\t\tpointHoverBorderColor: &quot;rgba(220,220,220,1)&quot;,\n\t\t\t\t\t\t\t\t\t\t\tpointHoverBorderWidth: 2,\n\t\t\t\t\t\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\t\t\t\t\t\tpointHitRadius: 10,\n\t\t\t\t\t\t\t\t\t\t\tdata: timeArray,\n\t\t\t\t\t\t\t\t\t\t\tspanGaps: false,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\t\t\ttext: &#39;Every morning I push this AWS IoT button and it logs it on this graph!&#39;,\n\t\t\t\t\t\t\t\t\tfontSize: 16\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: function(v) { return epoch_to_hh_mm_ss(v) },\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\t\t\tlabel: function(tooltipItem, data) {\n\t\t\t\t\t\t\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].label + &#39;: &#39; + epoch_to_hh_mm_ss(tooltipItem.yLabel)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t\tfunction epoch_to_hh_mm_ss(d) {\n\t\t\t\t\t\td = Number(d);\n\t\t\t\t\t\tvar h = Math.floor(d / 3600);\n\t\t\t\t\t\tvar m = Math.floor(d % 3600 / 60);\n\t\t\t\t\t\tvar s = Math.floor(d % 3600 % 60);\n\t\t\t\t\t\treturn ((h &gt; 0 ? h + &quot;:&quot; + (m &lt; 10 ? &quot;0&quot; : &quot;&quot;) : &quot;&quot;) + m + &quot;:&quot; + (s &lt; 10 ? &quot;0&quot; : &quot;&quot;) + s);\n\t\t\t\t\t}\n\n\t\t\t});\n\t}\n\tqueryData();\n&lt;/script&gt;)</code></pre></div>","frontmatter":{"title":"AWS IoT Button","date":"April 18, 2017"}}},"pageContext":{"slug":"/aws-iot-button/","previous":{"fields":{"slug":"/wheres-my-widget/"},"frontmatter":{"title":"Visualizing World Bank Logistics Data"}},"next":{"fields":{"slug":"/aws-iot-button/index2/"},"frontmatter":{"title":"AWS IoT Button"}}}}